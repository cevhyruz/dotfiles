#!/usr/bin/env bash

function _display() {
  local msg="$1"
  command tmux display-message "$1"
}

# checks if the pressed keys has keybindings..
function _has_bind() {
  local test
}

# ------------------------------------------------------------------
# tmux keybindings
# ------------------------------------------------------------------
function _get_opts() {
  local option="$1"
  command tmux show-option -vg "$1"
}

# check what command is active in current pane.
function _is() {
  local cmd="ps -o command --tty '#{pane_tty}' | grep --silent "$1""
  tmux run-shell "$cmd"
}

# set navigation keybinding.
function tmux-nav-left() {
  local up down left right

  up=$(_get_opts @nav-up)
  down=$(_get_opts @nav-up)
  left=$(_get_opts @nav-up)
  right=$(_get_opts @nav-up)

  tmux bind-key -n "$left" run-shell "$(_is vim) && tmux send-keys $left"
  # echo "bind nav test"
  # tmux display-message "test"

  tmux display-message "navigation left"
  echo "lol"
}

function main() {
  # _get_option @send-prefix
  local test
  bind_nav
}
